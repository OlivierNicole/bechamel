<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Analyze (bechamel.Bechamel.Analyze)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0-359-g492257c"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> – <a href="../../index.html">bechamel</a> &#x00BB; <a href="../index.html">Bechamel</a> &#x00BB; Analyze</nav><header><h1>Module <code>Bechamel.Analyze</code></h1><p>Analyze module.</p><p>Micro-benchmark usually uses a <i>linear-regression</i> to estimates the execution time of a code segments. For example, the following table might represent <code>{!Measurement_raw.t} array</code> collected by <a href="../Benchmark/index.html#val-run"><code>Benchmark.run</code></a>:</p><pre>  +-----+------+
  | run | time |
  +-----+------+
  | 1   | 19   |
  | 2   | 25   |
  | 3   | 37   |
  | 4   | 47   |
  | 5   | 56   |
  +-----+------+</pre><p>Bechamel records 3000 samples and the number of iterations can grows geometrically (see <a href="../Benchmark/index.html#val-run"><code>Benchmark.run</code></a>). Then, Bechamel can use 2 algorithms:</p><ul><li>Ordinary Least Square</li><li>RANdom SAmple Consensus</li></ul><p>The user can choose one of it. Currently, <a href="OLS/index.html"><code>OLS</code></a> is the best to use. These algorithms will estimate the actual execution time of the code segment. Using <a href="OLS/index.html"><code>OLS</code></a> with the above data would yield an estimated execution time of <code>9.6</code> nanoseconds with a goodness of fit (<code>r²</code>) of <code>0.992</code>.</p><p>More generally, Bechamel lets the user to choose <i>predictors</i> and the <i>responder</i>. Indeed, the user can use others metrics (such as <code>perf</code>) and the API allows to analyze such metrics each other.</p></header><div class="content"><div class="spec module" id="module-OLS" class="anchored"><a href="#module-OLS" class="anchor"></a><code><span class="keyword">module</span> <a href="OLS/index.html">OLS</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-RANSAC" class="anchored"><a href="#module-RANSAC" class="anchor"></a><code><span class="keyword">module</span> <a href="RANSAC/index.html">RANSAC</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></div><div><p>Type of analyze.</p></div></div><div><div class="spec value" id="val-ols" class="anchored"><a href="#val-ols" class="anchor"></a><code><span class="keyword">val</span> ols : <span>r_square:bool</span> <span>&#45;&gt;</span> <span>bootstrap:int</span> <span>&#45;&gt;</span> <span>predictors:<span>string array</span></span> <span>&#45;&gt;</span> <span><a href="OLS/index.html#type-t">OLS.t</a> <a href="index.html#type-t">t</a></span></code></div><div><p><code>ols ~r_square ~bootstrap ~predictors</code> is an Ordinary Least Square analyze on <code>predictors</code>. It calculate <code>r²</code> if <code>r_square = true</code>. <code>bootstrap</code> is the number of how many times Bechamel try to <i>resample</i> measurements.</p></div></div><div class="spec value" id="val-ransac" class="anchored"><a href="#val-ransac" class="anchor"></a><code><span class="keyword">val</span> ransac : <span>filter_outliers:bool</span> <span>&#45;&gt;</span> <span>predictor:string</span> <span>&#45;&gt;</span> <span><a href="RANSAC/index.html#type-t">RANSAC.t</a> <a href="index.html#type-t">t</a></span></code></div><div><div class="spec value" id="val-one" class="anchored"><a href="#val-one" class="anchor"></a><code><span class="keyword">val</span> one : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Measure/index.html#type-witness">Measure.witness</a> <span>&#45;&gt;</span> <a href="../Benchmark/index.html#type-t">Benchmark.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></div><div><p><code>one analyze measure (stat, samples)</code> estimates the actual given <code>measures</code> for one <code>predictors</code>. So, <code>one analyze time (stat, samples)</code> where <code>analyze</code> is initialized with <code>run</code> <i>predictor</i> wants to estimate actual <i>run</i>-<code>time</code> (or execution time) value.</p></div></div><div class="spec value" id="val-all" class="anchored"><a href="#val-all" class="anchor"></a><code><span class="keyword">val</span> all : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Measure/index.html#type-witness">Measure.witness</a> <span>&#45;&gt;</span> <span><span>(string, <a href="../Benchmark/index.html#type-t">Benchmark.t</a>)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span> <span>&#45;&gt;</span> <span><span>(string, <span class="type-var">'a</span>)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span></code></div><div class="spec value" id="val-merge" class="anchored"><a href="#val-merge" class="anchor"></a><code><span class="keyword">val</span> merge : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="../Measure/index.html#type-witness">Measure.witness</a> list</span> <span>&#45;&gt;</span> <span><span><span>(string, <span class="type-var">'a</span>)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span> list</span> <span>&#45;&gt;</span> <span><span>(string, <span><span>(string, <span class="type-var">'a</span>)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span>)</span> <span class="xref-unresolved">Stdlib</span>.Hashtbl.t</span></code></div></div></body></html>